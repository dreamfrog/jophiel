  <div id="shareit-box" border=2>  
     <div id="shareit-header"></div>  
     <div id="shareit-body">  
         <div id="shareit-blank"></div>  
         <div id="shareit-city">
	      	<div id="pop_city" class="hotcitylist">
   				{% for city in commoncity %} 
   					<a href="#" onclick="mapSearchByCity('{{city}}');return false;">{{city}}</a>
   				{% endfor %}
		  		<p><a href="javascript:changeCity();" style="color: rgb(0, 0, 204);">更多城市</a></p>
			</div> 
		</div> 
     </div>  
 </div> 
  
<style>
#shareit-box {
	position:absolute;
	display:none;
	z-index: 150;

	
}
#shareit-header {
	width:300px;
}
#shareit-body {
	width:300px; height:100px;
	background-repeat: no-repeat;
	border-style: solid;
	border-width: 1px;
	background-color:#ffffff;
}
#shareit-blank {
	height:20px;
}
#shareit-url {
	height:50px;
	text-align:center;
}
#shareit-url input.field{
	width:100px; height:26px;
	background: transparent url(images/field.gif) no-repeat;
	border:none; outline:none;
	padding:7px 5px 0 5px;
	margin:3px auto;font-size:11px;
}
#shareit-icon  {
	height:20px;
}		
#shareit-icon ul {
	list-style:none;
	width:130px;
	margin:0; padding:0 0 0 8px;
}
#shareit-icon ul  li{
	float:left;
	padding:0 2px;
}
#shareit-icon ul  li img{
	border:none;
}			
</style>
  
  
  
<script>
$(document).ready(function() {

	//grab all the anchor tag with rel set to shareit
	$('a[rel=shareit], #shareit-box').mouseenter(function() {		
		
		//get the height, top and calculate the left value for the sharebox
		var height = $(this).height();
		var top = $(this).offset().top;
		
		//get the left and find the center value
		var left = $(this).offset().left + ($(this).width() /2) - ($('#shareit-box').width() / 2);		
		
		//grab the href value and explode the bar symbol to grab the url and title
		//the content should be in this format url|title
		var value = $(this).attr('href').split('|');
		
		//assign the value to variables and encode it to url friendly
		var field = value[0];
		var url = encodeURIComponent(value[0]);
		var title = encodeURIComponent(value[1]);
		
		//assign the height for the header, so that the link is cover
		$('#shareit-header').height(height);
		
		//display the box
		$('#shareit-box').show();
		
		//set the position, the box should appear under the link and centered
		$('#shareit-box').css({'top':top, 'left':left});

	});

	//onmouse out hide the shareit box
	$('#shareit-box').mouseleave(function () {
		$('#shareit-field').val('');
		$(this).hide();
	});
	
	//hightlight the textfield on click event
	$('#shareit-field').click(function () {
		$(this).select();
	});
});
</script>



<table border="0">
   	<tr>
   		<td align="center" width="35" class="style19">&nbsp;</td>
   		<td align="center" width="80"><span class="style9"><a rel="shareit" class="style9" href="#" onclick="selectCity(this);">[切换城市]</a></span></td>
  		<td>{% include 'searchenginechoose.html' %}</td>
  	</tr>
  	<DIV id="SelectCity"  style="DISPLAY: none;POSITION: absolute;z-index: 150;" title="Basic dialog">>
		<DIV class="pop_window">
			<span class="close"><A href="javascript:closeSelectCity();"><img align="right" src="/images/close.gif" border=0></A></span>	
	    		<DIV id="pop_city" class="hotcitylist">
	    				{% for city in commoncity %} 
	    					<a href="#" onclick="mapSearchByCity('{{city}}');return false;">{{city}}</a>
	    				{% endfor %}
			  	<p><a href="javascript:changeCity();" style="color: rgb(0, 0, 204);">更多城市</a></p>
				</DIV> 
		</DIV>
	</DIV>
</table>